é‰´äºå½“å‰ä¸å†éœ€è¦â€œæ¯æ—¥æ‰“å¡â€ï¼Œå› æ­¤æˆ‘æ‰“ç®—å°†æˆ‘çš„æ€è·¯å’Œæ–¹æ³•è¿›è¡ŒæŠ«éœ²ï¼Œå½“ä½œä¸€ä¸ªç¬”è®°ï¼Œä»¥é˜²ä¸‹ä¸€æ¬¡è¿˜æœ‰è¿™æ ·ç±»ä¼¼çš„éœ€æ±‚éœ€è¦è¢«æ»¡è¶³ã€‚

> æ³¨æ„ï¼Œä¸ä¹‹ç›¸å…³çš„å§“åã€è´¦å·ã€å¯†ç å’Œæœºæ„éƒ½è¿›è¡Œäº†è„±æ•å¤„ç†ã€‚
> 

---

# ä¸ºä»€ä¹ˆ

åœ¨2022å¹´9æœˆæœ«ï¼Œè¢«è¦æ±‚è¿›è¡Œâ€œæ¯æ—¥æ‰“å¡â€ï¼Œæ¥ç¡®ä¿ä¸€äº›ä¼—æ‰€å‘¨çŸ¥çš„äº‹æƒ…ä¸ä¼šå‘ç”Ÿã€‚ä½†æ˜¯è¿™ä¸ªâ€œæ¯æ—¥æ‰“å¡â€å¾ˆæœ‰æ„æ€ï¼Œå®ƒéœ€è¦åœ¨æ¯å¤©åç‚¹å‰å®Œæˆæ‰“å¡ï¼Œä½†æ‰“å¡å†…å®¹åªæœ‰ä¸¤ç±»å†…å®¹ï¼Œä¸€ç±»æ˜¯é•¿æœŸä¸éœ€è¦è¢«ä¿®æ”¹çš„å†…å®¹ï¼Œä¾‹å¦‚å§“åã€ç”µè¯ã€å®¿èˆæ‰€åœ¨åœ°ç­‰ç­‰ï¼›å¦ä¸€æ–¹é¢åˆæ˜¯æ¯å¤©åç‚¹å‰æ— æ³•é¢„ä¼°ä»Šå¤©æ‰€æœ‰è¡Œç¨‹è§„åˆ’æˆ–æ˜¯æœªæ¥å‘ç”Ÿçš„å†…å®¹ï¼Œä¾‹å¦‚ä»Šå¤©çš„æ˜¯å¦éœ€è¦åˆ°è¾¾æœ¬éƒ¨ã€æ¸©åº¦ã€æ˜¯å¦æµæ„Ÿç­‰ç­‰ï¼›ç”šè‡³ä¼šæœ‰ä¸€äº›åŒªå¤·æ‰€æ€çš„å†…å®¹ï¼Œä¾‹å¦‚æ˜¯å¦å¯†æ¥ç­‰ç­‰ã€‚

ä¸€æ–¹é¢ï¼Œå›ºå®šå†…å®¹ä¸éœ€è¦è¿›è¡Œæ¯å¤©çš„æ›´æ–°ï¼ˆè™½ç„¶è¿™ç±»è¡¨å•çš„å†…å®¹æ— éœ€æ¯å¤©å¡«å…¥ï¼Œä½†æ¯å¤©æ»‘åŠ¨è¿™ç±»ä¿¡æ¯æ‰èƒ½å®šä½åˆ°æ¯å¤©éœ€è¦æ‰‹åŠ¨å¡«å†™çš„å†…å®¹å±å®æ¶å¿ƒï¼Œå¹¶ä¸¥é‡å½±å“æ•ˆç‡ï¼‰ï¼Œå¦ä¸€æ–¹é¢ï¼Œæ¯å¤©åç‚¹å¹¶ä¸èƒ½æŠŠå½“å¤©çš„æ‰€æœ‰ä¿¡æ¯éƒ½å®Œæ•´é¢„ä¼°ã€‚ä»å¦ä¸€ä¸ªè§’åº¦æ€è€ƒï¼Œè¿™æ ·çš„å½¢å¼æ›´æ˜¯æ— æ³•é¿å…ä¼—æ‰€å‘¨çŸ¥çš„äº‹æƒ…å‘ç”Ÿï¼Œåå€’æˆä¸ºäº†ä¸€ç§è´£ä»»åˆ†æ•£çš„æŒ¡ç®­ç‰Œã€‚æ•…æ­¤ï¼Œè¿™æ ·çš„è¡Œä¸ºæ— ç–‘æ˜¯æ¯å¤©éƒ½åœ¨æ¶å¿ƒç€æˆ‘ã€‚

ç›®æ ‡æ—¢ç„¶ç¡®å®šï¼Œé‚£ä¹ˆä¾¿å¼€å§‹åˆ†æä¸€ä¸‹å¦‚ä½•è®©ä»£ç æ›¿æˆ‘æ‰“å¡ã€‚

# ç¡®å®šæµç¨‹

æ¯å¤©åç‚¹æœªæ‰“å¡ï¼Œä¼šæœ‰ä¸€å°çŸ­ä¿¡å‘æ¥ï¼Œå¹¶é™„æœ‰ä¸€ä¸²é“¾æ¥ï¼š

```python
https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn/mp-czzx/webs/yqsb/yqsb/xsyqtb-xq.html
```

é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œå‘ç°ä¼šè¢«è·³è½¬è‡³ç™»å½•ç•Œé¢ï¼š

```python
https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn/mp-czzx/webs/yqsb/sjhmcj/index.html
```

åœ¨æ‰‹åŠ¨å¡«å…¥è´¦å·ä¿¡æ¯åï¼Œè¿›å…¥å¡«æŠ¥è¡¨å•ç•Œé¢ï¼Œåœ¨æ‰‹åŠ¨å¡«æŠ¥åå®Œæˆæäº¤ã€‚

é‚£ä¹ˆç°åœ¨çš„æµç¨‹å°±å¾ˆæ˜ç¡®äº†ï¼š

```python
é€šè¿‡æ¨¡æ‹Ÿç™»å½•è·å– Cookie -> æºå¸¦ Cookie å°è¯•è¿›å…¥è¡¨å•ç•Œé¢ -> å°†é¢„è®¾ä¿¡æ¯å¡«å…¥è¡¨å•
```

å°†æ•´ä¸ªæµç¨‹è¿›è¡Œä¼˜åŒ–ä¾¿å¾—åˆ°ï¼š

```python
æ¯å¤©å®šæ—¶å¼€å§‹ -> å¾ªç¯è´¦å·åˆ—è¡¨ -> é€šè¿‡æ¨¡æ‹Ÿç™»å½•è·å– Cookie -> æºå¸¦ Cookie å°è¯•è¿›å…¥è¡¨å•ç•Œé¢ -> æ­£ç¡®è·å–åˆ°è´¦å·å¹¶åŒ¹é…æˆåŠŸ -> å°†é¢„è®¾ä¿¡æ¯å¡«å…¥æŠ¥è¡¨ -> åé¦ˆçŠ¶æ€ä¸º 200 æ—¶é€šè¿‡ Telegram Bot æ¨é€æ‰“å¡æˆåŠŸ
```

å³ç›¸å½“äºåˆ›å»ºä¸€ç§æ–¹æ³•ï¼Œå¡«å…¥è´¦å·å’Œå¯†ç ï¼Œå†…éƒ¨è¿›è¡Œæ‰“å¡ï¼Œåé¦ˆæ•°æ®ä¸ºæˆæœæˆ–å¤±è´¥ã€‚ç„¶åå°†è¿™ä¸ªæ–¹æ³•å¾ªç¯åœ¨ä¸€ç»„è´¦å·åˆ—è¡¨ä¸­ï¼Œå¹¶ç´¯ç§¯å“ªäº›è´¦å·æˆåŠŸï¼Œå“ªäº›è´¦å·å¤±è´¥ï¼Œç„¶åé€šè¿‡ Telegram Bot æœºå™¨äººæ¨é€ï¼ŒåŒæ—¶ä»£ç ç­‰å¾…åç§’åï¼Œå°†å…ˆå‰æœªæˆåŠŸçš„è´¦å·å†æ¬¡å°è¯•æ‰“å¡ï¼Œç›´åˆ°æ‰€æœ‰è´¦å·æ‰“å¡æˆåŠŸï¼Œæˆ–è€…é‡å¤åæ¬¡åæ”¾å¼ƒã€‚

é¦–å…ˆå°±æ˜¯æ£€æµ‹ç™»å½•é€»è¾‘ä¸­å®é™…çš„ç½‘å€æ˜¯ä»€ä¹ˆï¼Œåœ¨æµè§ˆç½‘é¡µæ—¶ï¼Œå¾€å¾€å½“å‰çš„ç½‘å€å’Œä¿¡æ¯å‘é€ä¸æ¥æ”¶ä¸ä¸€æ ·ï¼Œå¹¶åŒæ—¶ä¼´éšç€å¤æ‚çš„ Cookie å’Œ Headerï¼Œåœ¨è¿™æ—¶å°±éœ€è¦ Chrome æµè§ˆå™¨å»æ£€æµ‹æ•´ä¸ªç½‘ç»œæ´»åŠ¨ï¼Œæ£€æµ‹å®é™…å‘é€çš„ç½‘å€ã€æ•°æ®å’Œåé¦ˆçš„å†…å®¹ï¼š

```yaml
Request URL: https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn/mp-czzx/login
Request Method: POST
Status Code: 200 OK
Remote Address: 127.0.0.1:7890
Referrer Policy: strict-origin-when-cross-origin
```

æˆ‘ä»¬å‘ç°ï¼š

```python
# è™½ç„¶ç™»å½•ç½‘å€æ˜¯ï¼š
https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn/mp-czzx/webs/yqsb/sjhmcj/index.html
# ä½†å®é™…æ¥æ”¶æ•°æ®çš„ç½‘å€æ˜¯ï¼š
https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn/mp-czzx/login
```

å¹¶ä¸”ä½¿ç”¨ Post æ–¹æ³•å‘é€äº† Headerï¼š

```yaml
Accept: */*
Accept-Encoding: gzip, deflate, br
Accept-Language: zh-CN,zh;q=0.9
Connection: keep-alive
Content-Length: 33
Content-Type: application/x-www-form-urlencoded; charset=UTF-8
Host: yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn
Origin: https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn
Referer: https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn/mp-czzx/webs/yqsb/sjhmcj/index.html
sec-ch-ua: "Not?A_Brand";v="8", "Chromium";v="108", "Google Chrome";v="108"
sec-ch-ua-mobile: ?0
sec-ch-ua-platform: "macOS"
Sec-Fetch-Dest: empty
Sec-Fetch-Mode: cors
Sec-Fetch-Site: same-origin
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36
X-Requested-With: XMLHttpRequest
```

ä»¥åŠä¸¤ä¸ªä¿¡æ¯ï¼š

```yaml
userId: 
M2205â—¼ï¸â—¼ï¸â—¼ï¸
password: 
â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸
```

# é‚£å°±ç™»å½•çœ‹çœ‹

å°†å…¶æ±‡æ€»ï¼Œä¾¿ç¡®å®šé‡‡ç”¨çš„æ–¹æ³•æ˜¯ Python ä¸­å¸¸è§çš„ Request æ–¹æ³•ï¼ŒåŒæ—¶å°† stuID å®šä¹‰ä¸ºè´¦å·ï¼ŒstuPass å®šä¹‰ä¸ºå¯†ç ï¼š

```python
# ç™»å½•
    try:
        cookieUrl = 'https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn/mp-czzx/login' # å®šä¹‰ç™»å½•ç½‘å€
        s = requests.Session() # å®šä¹‰æ–¹æ³•
        s.cookies.clear() # æ¸…ç† Cookie ç¼“å­˜
        s.get(cookieUrl, headers={'userId': stuID, 'password': stuPass}, timeout=5) # é€šè¿‡ç™»å½•ç½‘å€ï¼Œå¡«å…¥è´¦å·å’Œå¯†ç ï¼Œè·å–äº”ç§’å†…åé¦ˆçš„ Cookie æ•°æ®

        if s.cookies is None: # å¦‚æœè·å–çš„ Cookie æ˜¯ç©ºçš„
            msg = 'ç™»å½•âŒ' # é‚£ä¹ˆä¿¡æ¯ä¸ºâ€œç™»å½•âŒâ€
            return msg # æ‰“æ–­ä»£ç å¹¶è¿”å›ä¿¡æ¯
        else: msg = 'ç™»å½•âœ…' # å¦åˆ™ä¿¡æ¯ä¸ºâ€œç™»å½•âœ…â€
    except Exception as e: # å¦‚æœé‡åˆ°äº†æ„å¤–äº‹ä»¶
        msg = 'ç™»å½•âŒ\nå‡ºç°é”™è¯¯ï¼Œè¯·æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š' + '\n' + str(traceback.format_exc()) # ä¿¡æ¯ä¸ºâ€œç™»å½•âŒ å‡ºç°é”™è¯¯ï¼Œè¯·æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š%é”™è¯¯æ—¥å¿—%â€
        return msg # æ‰“æ–­ä»£ç å¹¶è¿”å›ä¿¡æ¯
```

# ç¡®å®šå¯¹å—

åœ¨è¿™ä¸ªæ–¹æ³•åï¼Œ s.cookies å°±æˆä¸ºäº†éªŒè¯è¡¨å•å’Œå¡«å†™è¡¨å•çš„ä¸€æŠŠé’¥åŒ™ï¼Œæ¥ä¸‹æ¥ï¼Œè¿›è¡Œè¡¨å•éªŒè¯ï¼š

```python
# è¯»å–
    try:
        pushUrl = 'https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn/mp-czzx/webs/yqsb/sjhmcj/index.html' # å®šä¹‰è¡¨å•ç½‘å€

        headers = { # å®šä¹‰ç”³è¯·æ ‡å¤´ï¼ŒåŒæ—¶å°†ä¸Šä¸€æ­¥ä¸­çš„ s.cookies åµŒå…¥åˆ°è¿™ä¸€æ­¥ä¸­
            'Accept': '*/*',
            'Accept-Encoding': 'gzip, deflate, br',
            'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,zh-TW;q=0.7',
            'Connection': 'keep-alive',
            'Content-Length': '32',
            'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
            'Cookie': "idSession=" + s.cookies.get("idSession") + ";openId=" + s.cookies.get("openId") + ";route=" + s.cookies.get("route"),
            'Host': 'yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn',
            'Origin': 'https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn',
            'Referer': pushUrl,
            'sec-ch-ua': '"Chromium";v="106", "Google Chrome";v="106", "Not;A=Brand";v="99"',
            'sec-ch-ua-mobile': '?0',
            'sec-ch-ua-platform': '"iOS"',
            'Sec-Fetch-Dest': 'empty',
            'Sec-Fetch-Mode': 'cors',
            'Sec-Fetch-Site': 'same-origin',
            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/106.0.0.0 Safari/537.36',
            'X-Requested-With': 'XMLHttpRequest',
        }

        sourceJson = requests.post('https://yqtb.â—¼ï¸â—¼ï¸â—¼ï¸.edu.cn/mp-czzx/dkjl', headers=headers, timeout=5, data={
            'userId': stuID, 'password': stuPass}) # ç™»å½•è¡¨å•ç•Œé¢

        htmlJson = BeautifulSoup(sourceJson.text, "html.parser") # è§£ç ç½‘é¡µæ•°æ®
        json_seletc = json.loads(htmlJson.text) # json åŒ–ç½‘é¡µæ•°æ®

        if json_seletc['json']['data']['xhOrgh'] == '': # å¦‚æœè·å–åˆ°çš„è¡¨å•å†…å®¹è´¦å·ä¸ºç©º
            msg = 'ğŸªªæœªçŸ¥ ç™»å½•âœ… è¯»å–âŒ' # è¿”å›ä¿¡æ¯ä¸ºâ€œğŸªªæœªçŸ¥ ç™»å½•âœ… è¯»å–âŒâ€
            return msg # æ‰“æ–­ä»£ç å¹¶è¿”å›ä¿¡æ¯
        else: 
            msg = 'ğŸªª' + json_seletc['json']['data']['xhOrgh'] + '\nç™»å½•âœ… è¯»å–âœ…' # å¦åˆ™ä¿¡æ¯ä¸ºâ€œğŸªª%è´¦å·% ç™»å½•âœ… è¯»å–âœ…â€
    except Exception as e: # å¦‚æœé‡åˆ°äº†æ„å¤–äº‹ä»¶
        msg = 'ğŸªªæœªçŸ¥\nç™»å½•âœ… è¯»å–âŒ\nå‡ºç°é”™è¯¯ï¼Œè¯·æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š' + '\n' + str(traceback.format_exc()) # ä¿¡æ¯ä¸ºâ€œğŸªªæœªçŸ¥\nç™»å½•âœ… è¯»å–âŒ å‡ºç°é”™è¯¯ï¼Œè¯·æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š%é”™è¯¯æ—¥å¿—%â€
        return msg # æ‰“æ–­ä»£ç å¹¶è¿”å›ä¿¡æ¯
```

# ä¸è¦æµªè´¹æ—¶é—´

æœ€ç»ˆå¦‚æœæœ€åˆçš„è´¦å·ä¸ç½‘é¡µè¡¨å•ä¸­è·å–çš„è´¦å·ä¸€è‡´ï¼Œé‚£ä¹ˆå°±è¯´æ˜å½“å‰çš„è¡¨å•å¯ä»¥è¿›è¡Œæ¨é€æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æ‰“å¡ï¼š

```python
# æ‰“å¡
    try:
        saveData = { # é¢„è®¾æ‰“å¡å†…å®¹ï¼Œå…¶ä¸­ xhOrgh ä¸ºè´¦å·ï¼Œszdf ä¸ºæ‰€åœ¨åœ°æ–¹ï¼Œlxdh ä¸º è”ç³»ç”µè¯ï¼Œè¿™ä¸‰ä¸ªæ•°æ®å°†ä¸Šä¸€æ¬¡çš„æ•°æ®è¿›è¡ŒåŠ¨æ€å¡«å…¥
            'xhOrgh': json_seletc['json']['data']['xhOrgh'],
            'tbrq': '',
            'sffyhz': '0',
            'twqk': '1',
            'sfjc': '0',
            'sfdf': '0',
            'szdf': json_seletc['json']['data']['szdf'],
            'sfcqglcs': '0',
            'gldd': '',
            'sfhsjc': '2',
            'hsjcjg': '0',
            'jkmqk': '0',
            'xcmqk': '0',
            'lxdh': json_seletc['json']['data']['lxdh'],
            'qtqk': '',
            'role': '1',
            'jrsfwc': '2',
            'ymjzqk': '3',
            'sffx': '0',
            'sfzgfx': '0',
            'jjrStqk': '0',
        }

        saveData = requests.post(
            'https://yqtb.nua.edu.cn/mp-czzx/save', headers=headers, timeout=5, data=saveData) # å°†ä»¥ä¸Šæ•°æ®å¡«å…¥åˆ°ç½‘å€ä¸­ï¼Œå¹¶åœ¨äº”ç§’é’Ÿå†…å¾—åˆ°åé¦ˆçŠ¶æ€
        saveJson = BeautifulSoup(saveData.text, "html.parser") # è§£ç ç½‘é¡µæ•°æ®
        save_json_seletc = json.loads(saveJson.text) # json åŒ–ç½‘é¡µæ•°æ®

        if save_json_seletc['json']['data'] == 'true' and save_json_seletc['json']['status'] == 1 and save_json_seletc['json']['msg'] == 'è·å–æ•°æ®æˆåŠŸ'  and save_json_seletc['json']['code'] == 200:  # å¦‚æœåé¦ˆçš„æ•°æ®ä¸­åŒ…å«â€œè·å–æ•°æ®æˆåŠŸâ€å’Œâ€œ200â€
            msg = 'ğŸªª' + json_seletc['json']['data']['xhOrgh'] + '\nç™»å½•âœ… è¯»å–âœ… æ‰“å¡âœ…' # è¿”å›ä¿¡æ¯ä¸ºâ€œğŸªª%è´¦å·% ç™»å½•âœ… è¯»å–âœ… æ‰“å¡âœ…â€
        else: 
            msg = 'ğŸªªæœªçŸ¥\nç™»å½•âœ… è¯»å–âœ… æ‰“å¡âŒ' # å¦åˆ™è¿”å›æ•°æ®ä¸ºâ€œğŸªªæœªçŸ¥ ç™»å½•âœ… è¯»å–âœ… æ‰“å¡âŒâ€
            return msg # æ‰“æ–­ä»£ç å¹¶è¿”å›ä¿¡æ¯
    except Exception as e: # å¦‚æœé‡åˆ°äº†æ„å¤–äº‹ä»¶
        msg = 'ğŸªª' + json_seletc['json']['data']['xhOrgh'] + '\nç™»å½•âœ… è¯»å–âœ… æ‰“å¡âŒ\nå‡ºç°é”™è¯¯ï¼Œè¯·æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š' + '\n' + str(traceback.format_exc()) # ä¿¡æ¯ä¸ºâ€œğŸªªæœªçŸ¥\nç™»å½•âœ… è¯»å–âœ… æ‰“å¡âŒ å‡ºç°é”™è¯¯ï¼Œè¯·æŸ¥çœ‹é”™è¯¯æ—¥å¿—ï¼š%é”™è¯¯æ—¥å¿—%â€
        return msg # æ‰“æ–­ä»£ç å¹¶è¿”å›ä¿¡æ¯
    return msg # æ‰“æ–­ä»£ç å¹¶è¿”å›ä¿¡æ¯
```

# ç»ˆäºå®Œæˆ

è‡³æ­¤ï¼Œè¿™ä¸ªæ–¹æ³•ä¾¿å®Œæˆï¼Œåªéœ€è¦å¡«å…¥è´¦å·å’Œå¯†ç ï¼Œä¾¿ä¼šè‡ªåŠ¨å¡«å…¥é¢„è®¾å¥½çš„æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒæ—¶åé¦ˆä¸€ä¸ªæ‰“å¡æ˜¯å¦æˆåŠŸçš„ä¿¡æ¯ã€‚

ä¸‹ä¸€æ­¥ï¼Œå°†è¿™ä¸ªæ–¹æ³•è¿›è¡ŒåŒ…è£…ï¼Œå¾ªç¯ä¸€ä¸ªè´¦å·åˆ—è¡¨ï¼Œå¹¶å°†æ‰€æœ‰æ‰“å¡ç»“æœæ±‡æ€»åˆ° Telegram Bot ä¸­ï¼Œæ¥æé†’æˆ‘ï¼š

é¦–å…ˆå°†è¿™ä¸ªæ–¹æ³•å®šä¹‰æˆï¼š

```python
def check_logic(stuID, stuPass):
# ä¸­é—´çš„ä»£ç  
return msg
```

æ— è®ºä½•æ—¶ï¼Œå¼•ç”¨è¿™ä¸ªæ–¹æ³•å¹¶å°† stuID, stuPass ä¿®æ”¹ä¸ºè´¦å·å’Œå¯†ç éƒ½ä¼šè¿›è¡Œæ‰“å¡ï¼Œç„¶åï¼Œå®šä¹‰ä¸€ä¸ªè´¦å·åˆ—è¡¨ï¼Œå¹¶å°†ä¸€ä¸ªè´¦å·åˆ—è¡¨å¾ªç¯åœ¨å…¶ä¸­ï¼š

```python
idData = [
        [1, 'ç”¨æˆ·1', 'M2205â—¼ï¸â—¼ï¸â—¼ï¸', 'â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸'],
        [2, 'ç”¨æˆ·2', 'M2205â—¼ï¸â—¼ï¸â—¼ï¸', 'â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸'],
        [3, 'ç”¨æˆ·3', 'M2205â—¼ï¸â—¼ï¸â—¼ï¸', 'â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸â—¼ï¸'],
				...
        ]
```

```python
def check_up(idData): # å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œå°†è´¦å·åˆ—è¡¨å¼•å…¥
    finalMessage = '' # å®šä¹‰ä¸€ä¸ªæœ€ç»ˆçš„ä¿¡æ¯ï¼Œåˆå§‹ä¸ºç©º
    successMessage = 0 # å®šä¹‰ä¸€ä¸ªæˆåŠŸæ‰“å¡çš„è®¡æ•°ï¼Œåˆå§‹ä¸º 0
    failIndex = [] # å®šä¹‰ä¸€ä¸ªé”™è¯¯è´¦å·çš„å”¯ä¸€æŒ‡ç¤ºåºåˆ—
    failMessage = '' # å®šä¹‰ä¸€ä¸ªæœ€ç»ˆé”™è¯¯çš„ä¿¡æ¯ï¼Œåˆå§‹ä¸ºç©º

    for i in idData: # å¾ªç¯ idData ä¸­çš„æ•°æ®
        stuID = i[2] # è·å–æ¯æ¡æ•°æ®çš„ç¬¬ä¸‰ä¸ªæ•°æ®ï¼Œå³ä¸ºè´¦å·
        stuPass = i[3] # è·å–æ¯æ¡æ•°æ®çš„ç¬¬å››ä¸ªæ•°æ®ï¼Œå³ä¸ºè´¦å·å¯†ç 

        checkMessage = check_logic(stuID, stuPass) # å°†è´¦å·å’Œå¯†ç å¼•å…¥åˆ°åˆšåˆšè¯´åˆ°çš„æ‰“å¡æ–¹æ³•ä¸­
        
        message = 'ğŸ“' + i[1] + ' ' + checkMessage # å®šä¹‰ä¸€ä¸ªä¿¡æ¯ä¸ºâ€œğŸ“%å§“å% æ‰“å¡ç»“æœâ€
        if checkMessage == 'ğŸªª' + i[2] + '\nç™»å½•âœ… è¯»å–âœ… æ‰“å¡âœ…': # å¦‚æœæ‰“å¡ç»“æœä¸ºæˆåŠŸ
            successMessage += 1 # å°†æˆåŠŸæ‰“å¡çš„è®¡æ•°åŠ  1
        else: # å¦åˆ™
            failIndex.append(i[0]) # å°†å¤±è´¥çš„è´¦å·å”¯ä¸€æŒ‡ç¤ºåºåˆ—åŠ å…¥åˆ°é”™è¯¯åˆ—è¡¨ä¸­
            failMessage += i[1] + ' ' # å°†å¤±è´¥è´¦å·çš„å§“åæ·»åŠ åˆ°é”™è¯¯ä¿¡æ¯ä¸­
        finalMessage += message + '\n\n' # æœ€ç»ˆçš„ä¿¡æ¯ç­‰äºæ¯æ¡ä¿¡æ¯çš„ç´¯ç§¯
        print(message + '\n') # å°†ä¿¡æ¯è¾“å‡ºåˆ°ç»“æœä¸­
        time.sleep(random.randint(2,5)) # æ¯æ¬¡å®Œæˆä¸€ä¸ªè´¦å·åï¼Œæš‚åœ 2ï½5 ç§’

    timeMessage = 'æ‰“å¡ç»“æŸï¼Œæ—¶é—´ï¼š' + time.strftime("%Y-%m-%d %H:%M:%S", time.localtime()) # è®°å½•æ¯ä¸€æ¬¡æ‰“å¡çš„ä¸œå…«åŒºæ—¶é—´
    if successMessage == len(idData): # å¦‚æœæ‰€æœ‰äººéƒ½æ‰“å¡æˆåŠŸ
        poepleMessage = 'å…±' + str(len(idData)) + 'äººï¼ŒæˆåŠŸæ‰“å¡' + str(successMessage) + 'äºº' # è¿”å›æ‰€æœ‰äººéƒ½æ‰“å¡æˆåŠŸçš„åˆ—è¡¨
    else:
        poepleMessage = 'å…±' + str(len(idData)) + 'äººï¼ŒæˆåŠŸæ‰“å¡' + str(successMessage) + 'äººï¼Œå¤±è´¥' + str(len(idData) - successMessage) + 'äººï¼Œå¤±è´¥åå•ï¼š' + failMessage + 'ï¼Œå°†åœ¨5ç§’å†…é‡æ–°æ‰“å¡ã€‚' # è¿”å›æ‰“å¡æˆåŠŸå’Œæ‰“å¡å¤±è´¥çš„åˆ—è¡¨

    telegramBotMsg = timeMessage + '\n\n' + poepleMessage +'\n\n' + finalMessage # æ±‡æ€» Telegram Bot ä¸­æ‰€æœ‰éœ€è¦åé¦ˆçš„ä¿¡æ¯
    print(telegramBotMsg) # è¾“å‡º Telegram Bot è¾“å‡ºçš„ä¿¡æ¯
    asyncio.run(telegramMsg(botToken, telegramBotMsg)) # 
    return failIndex # è¿”å›æ‰“å¡å¤±è´¥
```

äºæ˜¯ï¼Œè¿™ä¸ªåŠŸèƒ½ä¾¿åŸºæœ¬å®Œæˆï¼Œä»–å°†æŒ‰ç…§æˆ‘é¢„è®¾çš„è´¦å·åˆ—è¡¨ï¼Œå°†æ¯ä¸€ä¸ªè´¦å·è¿›è¡Œæ‰“å¡ï¼Œå¹¶åœ¨å…¶é—´éš” 2ï½5 ç§’åå†è¿›è¡Œä¸‹ä¸€ä¸ªï¼Œå¹¶åœ¨å¾ªç¯ç»“æŸåé€šè¿‡ Telegram Bot é€šçŸ¥æˆ‘ã€‚

# æœ€åä¸€é¢—èºä¸

ä¸è¿‡åœ¨ä¸­æœŸè´¦å·åˆ—è¡¨å¢å¤šåï¼Œå¶å°”ä¼šå‘ç”ŸæŸä¸€ä¸ªè´¦å·æ‰“å¡å¤±è´¥çš„æƒ…å†µï¼Œè¿™é‡Œï¼Œå°±éœ€è¦å°†ä»£ç å‡çº§ä¸€ä¸‹ï¼Œé€šè¿‡è‡ªåŠ¨æ£€æµ‹ï¼Œæ¥å¾ªç¯é”™è¯¯çš„è´¦å·ï¼Œç›´åˆ°æ‰“å¡æˆåŠŸã€‚

```python
failIndex = check_up(idData) # å¼•å…¥é”™è¯¯åˆ—è¡¨
    print(failIndex) # è¾“å‡ºé”™è¯¯åˆ—è¡¨
    init = 0 # å®šä¹‰ä¸€ä¸ªåˆå§‹å€¼ 0
    while len(failIndex) != 0: # å½“é”™è¯¯åˆ—è¡¨çš„è®¡æ•°ä¸ä¸º0ï¼Œä¹Ÿå°±æ˜¯è¿˜æœ‰æ‰“å¡é”™è¯¯çš„è´¦å·æ—¶
        init += 1 # åˆå§‹å€¼ç´¯ç§¯åŠ  1
        time.sleep(5) # ç­‰å¾… 5 ç§’
        print('ç¬¬' + str(init) + 'æ¬¡é‡æ–°æ‰“å¡ï¼Œå¤±è´¥åå•ï¼š' + str(failIndex)) # è¾“å‡ºä¿¡æ¯ï¼Œè®°å½•è¿™æ˜¯ç¬¬å‡ æ¬¡è¿›è¡Œé‡å¤æ‰“å¡
        asyncio.run(telegramMsg(botToken, 'ç¬¬' + str(init) + 'æ¬¡é‡æ–°æ‰“å¡')) # é€šè¿‡ Telegram Bot è¾“å‡ºè¿™æ˜¯ç¬¬å‡ æ¬¡è¿›è¡Œæ‰“å¡
        newIdDate = [] # åˆ›å»ºä¸‹ä¸€æ¬¡é”™è¯¯æ‰“å¡çš„è´¦å·åˆ—è¡¨
        for i in failIndex: # å¾ªç¯ä¸Šä¸€æ¬¡çš„é”™è¯¯åˆ—è¡¨
            newIdDate.append(idData[i-1]) # å°†ä¸Šä¸€æ¬¡é”™è¯¯çš„è´¦å·åˆ—è¡¨æ·»åŠ è¿™ä¸ªåˆ—è¡¨ä¸­
        failIndex = (check_up(newIdDate)) # è·å–è¿™ä¸€æ¬¡æ‰“å¡å¤±è´¥çš„è´¦å·
        print(failIndex) # è¾“å‡ºä¿¡æ¯
        if failIndex != []: # å¦‚æœé”™è¯¯åˆ—è¡¨ä¸ç­‰äºç©º
            continue # é‚£å°±ç»§ç»­å¾ªç¯
        if init == 10: # å¦‚æœé‡å¤è®¡æ•°ç´¯ç§¯åˆ° 10 æ¬¡
            failMessage = '' # å®šä¹‰é”™è¯¯ä¿¡æ¯
            for i in failIndex: # å¾ªç¯é”™è¯¯è´¦å·çš„åˆ—è¡¨
                failMessage += [idData[i]][1] + ' ' # å®šä¹‰é”™è¯¯è´¦å·çš„å§“å
            asyncio.run(telegramMsg(botToken, 'ğŸ¤–ï¸å“¥ä»¬å®åœ¨é¡¶ä¸ä½äº†ï¼Œå·²ç»åæ¬¡å°è¯•äº†ï¼Œè¿™æ¬¡å°±ä¸å†å°è¯•äº†ï¼Œå¿«çœ‹çœ‹è¿™' + str(len(failIndex)) + 'ä¸ªå€’éœ‰å“¥ä»¬åˆ°åº•å•¥æƒ…å†µå§ï¼š' + failMessage)) # è¿”å›é”™è¯¯ä¿¡æ¯
            break # åœæ­¢ä»£ç 
        elif failIndex == []: # å¦‚æœé”™è¯¯ä»£ç ä¸ºç©º
            asyncio.run(telegramMsg(botToken, 'ğŸ¤–ï¸å™©æ¢¦ç»ˆäºç»“æŸäº†')) # è¿”å›æ•°æ®
            break # åœæ­¢ä»£ç 
```

é‚£ä¹ˆåˆ°è¿™ä¸€æ­¥ï¼Œæ•´ä¸ªä»£ç ä¹Ÿå°±å®Œæ•´äº†ï¼Œæœ€ç»ˆæˆ‘ä¸Šä¼ è‡³è¿œç«¯æœåŠ¡å™¨ä¸­ï¼Œå¹¶è®¾ç½®äº†æ¯å¤©æ—©æ™¨ 07:05 åˆ†è‡ªåŠ¨æ‰§è¡Œä»£ç ï¼Œäºæ˜¯æˆ‘ä¾¿é«˜æ•æ— å¿§äº†ã€‚

è¿™ç®—æ˜¯æˆ‘æœ€è¿‘ä¸€æ¬¡å¯ä»¥æŠ«éœ²çš„ä»£ç å®ä¾‹ï¼Œå¹¶å¯ä»¥å®é™…æ„Ÿå—åˆ°è¿™ä¸ªä»£ç å¸¦æ¥çš„æ•ˆç›Šã€‚ä¸è¿‡æœ‰å…³è¿™ä¸ªè¿™ä¸ªä»£ç çš„é“å¾·é—®é¢˜ï¼Œæˆ‘è®¤ä¸ºå¯¹äºæˆ‘æ¥è¯´åˆ™å®Œå…¨ä¸æ˜¯é—®é¢˜ï¼Œæ¯•ç«Ÿæå‡ä½æ•ˆç‡å½¢å¼æœ€å¥½çš„æ­¦å™¨å°±æ˜¯è®©æœºå™¨æ›¿æˆ‘å¹²æ´»ã€‚

# æœ€å

ä»£ç ç›®å‰å·²åœ¨ GitHub ä¸Šå¼€æºï¼šhttps://github.com/evnydd0sf/HealthyCheckInï¼Œå¹¶ä¸”ä¸ä¹‹ç›¸å…³çš„å§“åã€è´¦å·ã€å¯†ç å’Œæœºæ„éƒ½è¿›è¡Œäº†è„±æ•å¤„ç†ã€‚

æœ‰ä»»ä½•äº¤æµæˆ–ç–‘é—®å¯ä»¥åœ¨ Telegram è”ç³»æˆ‘ï¼šhttps://t.me/evnydd0sf

Peaceï¼